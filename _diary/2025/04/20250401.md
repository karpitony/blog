---
title: 2025년 04월 01일 화요일
description: C언어 qsort 함수 배우기
cover: 
date: 2025-04-01
---

## 1. 구름톤 유니브 4기 OT

오늘은 큰 이벤트는 없었다. 운영진 소개와 앞으로 계획, 그리고 각자 돌아가며 자기소개를 가졌다. 
운영진 소개때 간단히 표시할 본인 사진(진짜 사진 말고 미모지 같은거)이 있으면 보내달라 했는데 어떤 사진을 보낼까 고민했다. 

딱히 미모지를 만들지 않았고, 평소 쓰는 깃허브 프사를 보내긴 좀 그랬다. 
그러다 요새 유행하는 GPT에게 사진 바꿔달라 하기가 생각이 나서 시도해봤다.  심슨 사진으로 바꿔달라 하니 잘 바꿔주었다!!


## 2. 자료구조 과제 및 c언어 `qsort` 함수 공부

자료구조 수업 과제를 하며 c언어 `<stdlib.h>`에 들어있는 정렬 함수인 `qsort`함수를 사용하게 되었다. 

이름에서 눈치챌 수 있듯 퀵 정렬을 해주는 함수이다. 퀵 정렬은 알고리즘 관련 사이버 강의를 들으며 한번 배운 적이 있다. 

이름이 퀵 정렬인데 최악 복잡도가 `O(n^2)` 였던게 기억이 난다. 대신, 평균적인 시간 복잡도는 `O(n logn)`으로 빠른 편이다.

그리고 분할정복을 사용한다는 점도 기억이 난다.

```c 
// qsort 함수의 프로토타입
void qsort(void *base, size_t nmemb, size_t size, int (*compar)(const void *, const void *));

// 실사용 예시
qsort(&result.t, result.size, sizeof(term), qsort_compare);
```

c언의 `qsort` 함수는 정렬을 원하는 배열의 주소를 첫번재 인자로 받는다. 그리고 배열의 길이를 두번째 인자로 받고, 각 element의 크기를 세번째 인자로 받는다. 

비교 조건에 관한 함수를 마지막 인자로 받는다. 비교 조건 함수라고 하니 살짝 와닿지 않는데, 조건에 따라  `-1`, `0`, `1`을 리턴하는 함수를 넘겨주면 된다. 

비교조건 함수의 인자는 `void` 포인터이므로, **비교 함수 안에서 타입 캐스팅을 해주어야 한다.**

```c
int qsort_compare(const void* a, const void* b) {
	const term* t1 = (const term*)a;
  const term* t2 = (const term*)b;

  if (t1->y_degree > t2->y_degree) return -1;
  if (t1->y_degree < t2->y_degree) return 1;
	if (t1->x_degree > t2->x_degree) return -1;
	if (t1->x_degree < t2->x_degree) return 1;
	if (t1->z_degree > t2->z_degree) return -1;
	if (t1->z_degree < t2->z_degree) return 1;

	return 0;
}
```

- 음수(< 0): 첫 번째 원소(a)가 두 번째 원소(b)보다 "**앞에**" 와야 함
- 0: 두 원소가 동등함
- 양수(> 0): 첫 번째 원소(a)가 두 번째 원소(b)보다 "**뒤에**" 와야 함


## 3. 팜시스템 일퀘하기

팜시스템 보안 공부를 조금 해보았다. 인증/인가 처리에 대해 배웠다. 정말 중요한데 가끔 실수가 있어 공격을 당하는 취약점인 것 같다. 

특히 인증/인가는 무조건 서버에서 한번 더 검증을 해야한다는 것이 인상적이였다. 클라이언트만을 주로 하며, 클라이언트도 안전하다 생각했는데, 항상 노출되어 있기에 위변조 위험에 가장 맞닿아 있는 것 같다.

클라이언트 자체도 항상 자체 검증을 해야하지만, 서버에 꼭 요청을 보내고 검증을 받은 뒤 민감한 페이지에 접근 할 수 있게 해줘야 할 것 같다.


## 4. 물리, 미적분 신세 한탄하기

진짜 비이이상이다. 큰일났다. 물리 <<< 아직도 공부 안하고 과제 안함. 미적분 <<< 강의영상은 보는데 이해는 못함. 앞부분 까먹음... 

진짜 대책이 필요하다. 이제 매일 물리, 미적을 해야겠다. 안그럼 진짜 학점 위기다. 리액트 이런것보다 이게 지금 진짜 비상이다.

